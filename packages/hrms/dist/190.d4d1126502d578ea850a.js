(self.webpackChunkhrms=self.webpackChunkhrms||[]).push([[190],{6190:(e,t,n)=>{"use strict";n.r(t),n.d(t,{mount:()=>v});var o=n(2212),r=n.n(o),l=n(2468),i=n.n(l),a=n(6530),c=n(9074),s=n(6881);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u.apply(this,arguments)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}n(6765),c.SVG.SixFtApart,c.SVG.Rotate360;const m=function(e){var t,n,l,i,m,p,f,v,y,g=e.path,S=(e.url,e.userType,(0,s.useTranslation)().t),b=(0,a.useLocation)(),E=innerWidth<=640,h={searchParams:{tenantId:Digit.ULBService.getCurrentTenantId()}},w=null===(t=Digit)||void 0===t||null===(t=t.ComponentRegistryService)||void 0===t?void 0:t.getComponent("HRMSResponse"),_=null===(n=Digit)||void 0===n||null===(n=n.ComponentRegistryService)||void 0===n?void 0:n.getComponent("HRMSDetails"),O=null===(l=Digit)||void 0===l||null===(l=l.ComponentRegistryService)||void 0===l?void 0:l.getComponent("HRInbox"),I=null===(i=Digit)||void 0===i||null===(i=i.ComponentRegistryService)||void 0===i?void 0:i.getComponent("HRCreateEmployee"),T=null===(m=Digit)||void 0===m||null===(m=m.ComponentRegistryService)||void 0===m?void 0:m.getComponent("HREditEmpolyee"),C=(v=Digit.Hooks.useSessionStorage("NEW_EMPLOYEE_CREATE",{}),y=3,function(e){if(Array.isArray(e))return e}(v)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,l,i,a=[],c=!0,s=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=l.call(n)).done)&&(a.push(o.value),a.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw r}}return a}}(v,y)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(v,y)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),P=C[0],N=(C[1],C[2]);return(0,o.useEffect)((function(){!window.location.href.includes("/hrms/create")&&P&&0!=Object.keys(P)&&N()}),[b]),r().createElement(a.Switch,null,r().createElement(r().Fragment,null,r().createElement("div",{className:"ground-container"},r().createElement("p",{className:"breadcrumb",style:{marginLeft:E?"1vw":"0px"}},r().createElement(a.Link,{to:"/".concat(null===(p=window)||void 0===p?void 0:p.contextPath,"/employee"),style:{cursor:"pointer",color:"#666"}},S("HR_COMMON_BUTTON_HOME"))," ","/ ",r().createElement("span",null,(b.pathname,"/".concat(null===(f=window)||void 0===f?void 0:f.contextPath,"/employee/hrms/inbox"),S("HR_COMMON_HEADER")))),r().createElement(c.PrivateRoute,{path:"".concat(g,"/inbox"),component:function(){return r().createElement(O,{parentRoute:g,businessService:"hrms",filterComponent:"HRMS_INBOX_FILTER",initialStates:h,isInbox:!0})}}),r().createElement(c.PrivateRoute,{path:"".concat(g,"/create"),component:function(){return r().createElement(I,null)}}),r().createElement(c.PrivateRoute,{path:"".concat(g,"/response"),component:function(e){return r().createElement(w,u({},e,{parentRoute:g}))}}),r().createElement(c.PrivateRoute,{path:"".concat(g,"/details/:tenantId/:id"),component:function(){return r().createElement(_,null)}}),r().createElement(c.PrivateRoute,{path:"".concat(g,"/edit/:tenantId/:id"),component:function(){return r().createElement(T,null)}}))))};n(6635),n(7403),n(1025);var p=window.Digit||{},f=function(e){var t=e.stateCode,n=e.userType,o=e.tenants,l=p.StoreData.getCurrentLanguage(),i=p.Services.useStore({stateCode:t,moduleCode:"HR",language:l});i.isLoading,i.data,p.SessionStorage.set("HRMS_TENANTS",o);var c=(0,a.useRouteMatch)(),s=c.path,u=c.url;return p.Utils.hrmsAccess()&&"employee"===n?r().createElement(m,{path:s,url:u}):null},v=function(e,t){t.history,t.login,i().render(r().createElement(f,null),e)}},1025:(e,t,n)=>{function o(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var r=n(2947),l=n(5206),i=o(l),a=n(7380),c=(n(7106),n(7903),n(2774)),s=(o(n(5658)),n(4195)),u=o(n(3292));function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},d.apply(this,arguments)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function p(e,t){if(null==e)return{};var n,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}var f={error:{imgUrl:"https://s3.ap-south-1.amazonaws.com/egov-qa-assets/error-image.png",infoMessage:"CORE_SOMETHING_WENT_WRONG",buttonInfo:"ACTION_TEST_HOME"},maintenance:{imgUrl:"https://s3.ap-south-1.amazonaws.com/egov-qa-assets/maintainence-image.png",infoMessage:"CORE_UNDER_MAINTENANCE",buttonInfo:"ACTION_TEST_HOME"},notfound:{imgUrl:"https://s3.ap-south-1.amazonaws.com/egov-qa-assets/PageNotFound.png",infoMessage:"MODULE_NOT_FOUND",buttonInfo:"ACTION_TEST_HOME"}},v=function(e){var t=Digit.Hooks.useQueryParams().type,n=f[void 0===t?"error":t],o=a.useTranslation().t;return i.createElement("div",{className:"error-boundary"},i.createElement("div",{className:"error-container"},i.createElement("img",{src:n.imgUrl,alt:"error"}),i.createElement("h1",null,o(n.infoMessage)),i.createElement("button",{onClick:function(){e.goToHome()}},o(n.buttonInfo))))},y=function(){var e,t,n="employee"===Digit.UserService.getType()?"/"+(null===(e=window)||void 0===e?void 0:e.contextPath)+"/employee/user/error":"/"+(null===(t=window)||void 0===t?void 0:t.contextPath)+"/citizen/error";return window.location.href.includes("employee/user/error")||window.location.href.includes("citizen/error")||(window.location.href=n),i.createElement("span",null)};i.Component,r.PTIcon,r.OBPSIcon,r.PropertyHouse,r.CaseIcon,r.PGRIcon,r.FSMIcon,r.WSICon,r.MCollectIcon,r.CollectionIcon,r.BirthIcon,r.DeathIcon,r.FirenocIcon,r.HomeIcon,r.EditPencilIcon,r.LogoutIcon,r.Phone;"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));function g(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var S,b=function(e){var t,n,o,a=e.config,c=e.otp,s=e.onOtpChange,u=e.onResend,d=e.onSelect,m=e.t,p=e.error,f=e.userType,v=void 0===f?"citizen":f,y=e.canSubmit,g=l.useState(30),S=g[0],b=g[1];t=function(){b(S-1)},n=S>0?1e3:null,o=l.useRef(),l.useEffect((function(){o.current=t}),[t]),l.useEffect((function(){if(null!==n){var e=setInterval((function(){o.current()}),n);return function(){return clearInterval(e)}}}),[n]);var E=function(){u(),b(2)};return"employee"===v?i.createElement(l.Fragment,null,i.createElement(r.OTPInput,{length:6,onChange:s,value:c}),S>0?i.createElement(r.CardText,null,m("CS_RESEND_ANOTHER_OTP")+" "+S+" "+m("CS_RESEND_SECONDS")):i.createElement("p",{className:"card-text-button resend-otp",onClick:E},m("CS_RESEND_OTP")),!p&&i.createElement(r.CardLabelError,null,m("CS_INVALID_OTP"))):i.createElement(r.FormStep,{onSelect:d,config:a,t:m,isDisabled:!(6===(null==c?void 0:c.length)&&y)},i.createElement(r.OTPInput,{length:6,onChange:s,value:c}),S>0?i.createElement(r.CardText,null,m("CS_RESEND_ANOTHER_OTP")+" "+S+" "+m("CS_RESEND_SECONDS")):i.createElement("p",{className:"card-text-button",onClick:E},m("CS_RESEND_OTP")),!p&&i.createElement(r.CardLabelError,null,m("CS_INVALID_OTP")))},E=(null===(S=window)||void 0===S||S.contextPath,"undefined");var h=typeof window!==E&&typeof document!==E;h&&window;var w=l.createContext(null);w.displayName="RHFContext";var _,O,I,T,C;null===(_=window)||void 0===_||_.contextPath,null===(O=window)||void 0===O||O.contextPath,null===(I=window)||void 0===I||I.contextPath,null===(T=window)||void 0===T||T.contextPath,null===(C=window)||void 0===C||C.contextPath;function P(e,t){return e(t={exports:{}},t.exports),t.exports}var N="function"==typeof Symbol&&Symbol.for,D=N?Symbol.for("react.element"):60103,R=N?Symbol.for("react.portal"):60106,x=N?Symbol.for("react.fragment"):60107,L=N?Symbol.for("react.strict_mode"):60108,M=N?Symbol.for("react.profiler"):60114,A=N?Symbol.for("react.provider"):60109,U=N?Symbol.for("react.context"):60110,k=N?Symbol.for("react.async_mode"):60111,j=N?Symbol.for("react.concurrent_mode"):60111,H=N?Symbol.for("react.forward_ref"):60112,B=N?Symbol.for("react.suspense"):60113,F=N?Symbol.for("react.suspense_list"):60120,$=N?Symbol.for("react.memo"):60115,G=N?Symbol.for("react.lazy"):60116,W=N?Symbol.for("react.block"):60121,V=N?Symbol.for("react.fundamental"):60117,z=N?Symbol.for("react.responder"):60118,q=N?Symbol.for("react.scope"):60119;function X(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case D:switch(e=e.type){case k:case j:case x:case M:case L:case B:return e;default:switch(e=e&&e.$$typeof){case U:case H:case G:case $:case A:return e;default:return t}}case R:return t}}}function J(e){return X(e)===j}var Q={AsyncMode:k,ConcurrentMode:j,ContextConsumer:U,ContextProvider:A,Element:D,ForwardRef:H,Fragment:x,Lazy:G,Memo:$,Portal:R,Profiler:M,StrictMode:L,Suspense:B,isAsyncMode:function(e){return J(e)||X(e)===k},isConcurrentMode:J,isContextConsumer:function(e){return X(e)===U},isContextProvider:function(e){return X(e)===A},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===D},isForwardRef:function(e){return X(e)===H},isFragment:function(e){return X(e)===x},isLazy:function(e){return X(e)===G},isMemo:function(e){return X(e)===$},isPortal:function(e){return X(e)===R},isProfiler:function(e){return X(e)===M},isStrictMode:function(e){return X(e)===L},isSuspense:function(e){return X(e)===B},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===x||e===j||e===M||e===L||e===B||e===F||"object"==typeof e&&null!==e&&(e.$$typeof===G||e.$$typeof===$||e.$$typeof===A||e.$$typeof===U||e.$$typeof===H||e.$$typeof===V||e.$$typeof===z||e.$$typeof===q||e.$$typeof===W)},typeOf:X};P((function(e,t){})),P((function(e){e.exports=Q})),Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var o=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==o.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}})()&&Object.assign;function Y(){}function K(){}Function.call.bind(Object.prototype.hasOwnProperty),K.resetWarningCache=Y;var Z=P((function(e){e.exports=function(){function e(e,t,n,o,r,l){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==l){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:K,resetWarningCache:Y};return n.PropTypes=n,n}()})),ee=function(e){var t=e.children;return i.createElement("div",{className:"banner banner-container"},t)},te=function(){var e=Digit.Hooks.useStore.getInitData(),t=e.data,n=e.isLoading,o=(t||{}).stateInfo,l=a.useTranslation().t;return n?i.createElement(r.Loader,null):i.createElement("div",{className:"bannerHeader"},i.createElement("img",{className:"bannerLogo",src:null==o?void 0:o.logoUrl}),i.createElement("p",null,l("TENANT_TENANTS_"+(null==o?void 0:o.code.toUpperCase()))))},ne=function(e){var t,n,o,a=e.config,s=e.t,u=l.useState(null)[0],m=Digit.Hooks.useQueryParams(),p=m.mobile_number,f=m.tenantId,v=c.useHistory(),y=l.useState(""),S=y[0],E=y[1],h=l.useState(!0)[0],w=l.useState(null),_=w[0],O=w[1],I=function(){return Digit.UserService.getType()};l.useEffect((function(){var e,t;if(u){Digit.UserService.setUser(u);var n=(null===(e=location.state)||void 0===e?void 0:e.from)||"/"+(null===(t=window)||void 0===t?void 0:t.contextPath)+"/employee";v.replace(n)}else Digit.UserService.setType("employee")}),[u]);var T=function(){O(null)},C=a.inputs,P=C[0],N=C[1],D=C[2],R=[{body:[{label:s(P.label),type:P.type,populators:{name:P.name},isMandatory:!0},{label:s(N.label),type:N.type,populators:{name:N.name},isMandatory:!0},{label:s(D.label),type:D.type,populators:{name:D.name},isMandatory:!0}]}];return i.createElement(ee,null,i.createElement("div",{className:"employeeBackbuttonAlign"},i.createElement(r.BackButton,{variant:"white",style:{borderBottom:"none"}})),i.createElement(r.FormComposer,{onSubmit:function(e){try{return Promise.resolve(g((function(){if(e.newPassword!==e.confirmPassword)return O(s("ERR_PASSWORD_DO_NOT_MATCH"));var t=d({},e,{otpReference:S,tenantId:f,type:I().toUpperCase()});return Promise.resolve(Digit.UserService.changePassword(t,f)).then((function(e){!function(){var e;v.replace("/"+(null===(e=window)||void 0===e?void 0:e.contextPath)+"/employee/user/login")}()}))}),(function(e){var t,n,o,r,l;O((null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.error)||void 0===o||null===(r=o.fields)||void 0===r||null===(l=r[0])||void 0===l?void 0:l.message)||s("ES_SOMETHING_WRONG")),setTimeout(T,5e3)})))}catch(e){return Promise.reject(e)}},noBoxShadow:!0,inline:!0,submitInForm:!0,config:R,label:a.texts.submitButtonLabel,cardStyle:{maxWidth:"408px",margin:"auto"},className:"employeeChangePassword"},i.createElement(te,null),i.createElement(r.CardSubHeader,{style:{textAlign:"center"}}," ",a.texts.header," "),i.createElement(r.CardText,null,s("CS_LOGIN_OTP_TEXT")+" ",i.createElement("b",null," ",""+s("+ 91 - ")," ",p)),i.createElement(b,{t:s,userType:"employee",otp:S,onOtpChange:E,error:h,onResend:function(){try{var e=function(){setTimeout(T,5e3)},t={otp:{mobileNumber:p,userType:I().toUpperCase(),type:"passwordreset",tenantId:f}},n=g((function(){return Promise.resolve(Digit.UserService.sendOtp(t,f)).then((function(){O(s("ES_OTP_RESEND"))}))}),(function(e){var t,n;O((null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error_description)||s("ES_INVALID_LOGIN_CREDENTIALS"))}));return Promise.resolve(n&&n.then?n.then(e):e())}catch(e){return Promise.reject(e)}}})),_&&i.createElement(r.Toast,{error:!0,label:s(_),onClose:T}),i.createElement("div",{className:"EmployeeLoginFooter"},i.createElement("img",{alt:"Powered by DIGIT",src:null===(t=window)||void 0===t||null===(n=t.globalConfigs)||void 0===n||null===(o=n.getConfig)||void 0===o?void 0:o.call(n,"DIGIT_FOOTER_BW"),style:{cursor:"pointer"},onClick:function(){var e,t,n;window.open(null===(e=window)||void 0===e||null===(t=e.globalConfigs)||void 0===t||null===(n=t.getConfig)||void 0===n?void 0:n.call(t,"DIGIT_HOME_URL"),"_blank").focus()}})," "))};ne.propTypes={loginParams:Z.any},ne.defaultProps={loginParams:null};var oe=function(e){var t,n,o,a=e.config,s=e.t,u=Digit.Hooks.useTenants(),m=u.data,p=u.isLoading,f=l.useState(null)[0],v=c.useHistory(),y=l.useState(null),S=y[0],b=y[1];l.useEffect((function(){var e,t;if(f){Digit.UserService.setUser(f);var n=(null===(e=location.state)||void 0===e?void 0:e.from)||"/"+(null===(t=window)||void 0===t?void 0:t.contextPath)+"/employee";v.replace(n)}else Digit.UserService.setType("employee")}),[f]);var E=function(){b(null)},h=a.inputs,w=h[0],_=h[1],O=[{body:[{label:s(w.label),type:w.type,populators:{name:w.name,componentInFront:"+91"},isMandatory:!0},{label:s(_.label),type:_.type,populators:{name:_.name,customProps:{},component:function(e,t){return i.createElement(r.Dropdown,d({option:m,optionKey:"name",id:_.name,className:"login-city-dd",select:function(t){e.onChange(t)}},t))}},isMandatory:!0}]}];return p?i.createElement(r.Loader,null):i.createElement(ee,null,i.createElement("div",{className:"employeeBackbuttonAlign"},i.createElement(r.BackButton,{variant:"white",style:{borderBottom:"none"}})),i.createElement(r.FormComposer,{onSubmit:function(e){try{if(!e.city)return alert("Please Select City!"),Promise.resolve();var t={otp:{mobileNumber:e.mobileNumber,userType:Digit.UserService.getType().toUpperCase(),type:"passwordreset",tenantId:e.city.code}},n=g((function(){return Promise.resolve(Digit.UserService.sendOtp(t,e.city.code)).then((function(){var t;v.push("/"+(null===(t=window)||void 0===t?void 0:t.contextPath)+"/employee/user/change-password?mobile_number="+e.mobileNumber+"&tenantId="+e.city.code)}))}),(function(e){var t,n,o,r,l;b((null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.error)||void 0===o||null===(r=o.fields)||void 0===r||null===(l=r[0])||void 0===l?void 0:l.message)||"Invalid login credentials!"),setTimeout(E,5e3)}));return Promise.resolve(n&&n.then?n.then((function(){})):void 0)}catch(e){return Promise.reject(e)}},noBoxShadow:!0,inline:!0,submitInForm:!0,config:O,label:a.texts.submitButtonLabel,secondaryActionLabel:a.texts.secondaryButtonLabel,onSecondayActionClick:function(){var e;v.replace("/"+(null===(e=window)||void 0===e?void 0:e.contextPath)+"/employee/login")},heading:a.texts.header,description:a.texts.description,headingStyle:{textAlign:"center"},cardStyle:{maxWidth:"408px",margin:"auto"},className:"employeeForgotPassword"},i.createElement(te,null)),S&&i.createElement(r.Toast,{error:!0,label:s(S),onClose:E}),i.createElement("div",{className:"EmployeeLoginFooter"},i.createElement("img",{alt:"Powered by DIGIT",src:null===(t=window)||void 0===t||null===(n=t.globalConfigs)||void 0===n||null===(o=n.getConfig)||void 0===o?void 0:o.call(n,"DIGIT_FOOTER_BW"),style:{cursor:"pointer"},onClick:function(){var e,t,n;window.open(null===(e=window)||void 0===e||null===(t=e.globalConfigs)||void 0===t||null===(n=t.getConfig)||void 0===n?void 0:n.call(t,"DIGIT_HOME_URL"),"_blank").focus()}})," "))};oe.propTypes={loginParams:Z.any},oe.defaultProps={loginParams:null};var re=["UserRequest"],le=function(e){var t,n,o,a,s,u,m,f,v,y,S=e.config,b=e.t,E=e.isDisabled,h=Digit.Hooks.useTenants().isLoading,w=Digit.Hooks.useStore.getInitData().isLoading,_=l.useState(null),O=_[0],I=_[1],T=l.useState(null),C=T[0],P=T[1],N=l.useState(!1),D=N[0],R=N[1],x=c.useHistory();l.useEffect((function(){var e,t,n,o,r,l,i,a,c,s,u,d,m,p;if(O){Digit.SessionStorage.set("citizen.userRequestObject",O);var f,v,y,g,S=null==O||null===(e=O.info)||void 0===e||null===(t=e.roles)||void 0===t?void 0:t.filter((function(e){return e.tenantId===Digit.SessionStorage.get("Employee.tenantId")}));(null==O||null===(n=O.info)||void 0===n||null===(o=n.roles)||void 0===o?void 0:o.length)>0&&(O.info.roles=S),Digit.UserService.setUser(O),f=null==O?void 0:O.info,v=null==O?void 0:O.access_token,g=(null===(y=JSON.parse(sessionStorage.getItem("Digit.locale")))||void 0===y?void 0:y.value)||"en_IN",localStorage.setItem("Employee.tenant-id",null==f?void 0:f.tenantId),localStorage.setItem("tenant-id",null==f?void 0:f.tenantId),localStorage.setItem("citizen.userRequestObject",JSON.stringify(f)),localStorage.setItem("locale",g),localStorage.setItem("Employee.locale",g),localStorage.setItem("token",v),localStorage.setItem("Employee.token",v),localStorage.setItem("user-info",JSON.stringify(f)),localStorage.setItem("Employee.user-info",JSON.stringify(f));var b,E,h,w,_,I,T,C="/"+(null===(r=window)||void 0===r?void 0:r.contextPath)+"/employee";null!==(l=window)&&void 0!==l&&null!==(i=l.location)&&void 0!==i&&null!==(a=i.href)&&void 0!==a&&a.includes("from=")&&(C=decodeURIComponent(null===(b=window)||void 0===b||null===(E=b.location)||void 0===E||null===(h=E.href)||void 0===h||null===(w=h.split("from="))||void 0===w?void 0:w[1])||"/"+(null===(_=window)||void 0===_?void 0:_.contextPath)+"/employee"),null!=O&&null!==(c=O.info)&&void 0!==c&&c.roles&&null!=O&&null!==(s=O.info)&&void 0!==s&&null!==(u=s.roles)&&void 0!==u&&u.every((function(e){return"NATADMIN"===e.code}))&&(C="/"+(null===(I=window)||void 0===I?void 0:I.contextPath)+"/employee/dss/landing/NURT_DASHBOARD"),null!=O&&null!==(d=O.info)&&void 0!==d&&d.roles&&null!=O&&null!==(m=O.info)&&void 0!==m&&null!==(p=m.roles)&&void 0!==p&&p.every((function(e){return"STADMIN"===e.code}))&&(C="/"+(null===(T=window)||void 0===T?void 0:T.contextPath)+"/employee/dss/landing/home"),x.replace(C)}}),[O]);var L=function(){P(null)},M={code:Digit.ULBService.getStateId(),name:Digit.Utils.locale.getTransformedLocale("TENANT_TENANTS_"+Digit.ULBService.getStateId())},A=[{body:null==S?void 0:S.inputs}];return"admin"===Digit.Hooks.useQueryParams().mode&&0==(null==A||null===(t=A[0])||void 0===t||null===(n=t.body)||void 0===n||null===(o=n[2])||void 0===o?void 0:o.disable)&&null==(null==A||null===(a=A[0])||void 0===a||null===(s=a.body)||void 0===s||null===(u=s[2])||void 0===u||null===(m=u.populators)||void 0===m?void 0:m.defaultValue)&&(A[0].body[2].disable=!0,A[0].body[2].isMandatory=!1,A[0].body[2].populators.defaultValue=M),h||w?i.createElement(r.Loader,null):i.createElement(ee,null,i.createElement("div",{className:"employeeBackbuttonAlign"},i.createElement(r.BackButton,{variant:"white",style:{borderBottom:"none"}})),i.createElement(r.FormComposerV2,{onSubmit:function(e){try{var t,n=function(){R(!1)};R(!0);var o=d({},e,{userType:"EMPLOYEE"});o.tenantId=(null==e||null===(t=e.city)||void 0===t?void 0:t.code)||Digit.ULBService.getStateId(),delete o.city;var r=g((function(){return Promise.resolve(Digit.UserService.authenticate(o)).then((function(e){var t=e.UserRequest,n=p(e,re);Digit.SessionStorage.set("Employee.tenantId",null==t?void 0:t.tenantId),I(d({info:t},n))}))}),(function(e){var t,n;P((null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error_description)||"ES_ERROR_USER_NOT_PERMITTED"==(null==e?void 0:e.message)&&b("ES_ERROR_USER_NOT_PERMITTED")||b("INVALID_LOGIN_CREDENTIALS")),setTimeout(L,5e3)}));return Promise.resolve(r&&r.then?r.then(n):n())}catch(e){return Promise.reject(e)}},isDisabled:E||D,noBoxShadow:!0,inline:!0,submitInForm:!0,config:A,label:S.texts.submitButtonLabel,secondaryActionLabel:S.texts.secondaryButtonLabel,onSecondayActionClick:function(){var e;x.push("/"+(null===(e=window)||void 0===e?void 0:e.contextPath)+"/employee/user/forgot-password")},heading:S.texts.header,headingStyle:{textAlign:"center"},cardStyle:{margin:"auto",minWidth:"408px"},className:"loginFormStyleEmployee",buttonStyle:{maxWidth:"100%",width:"100%"}},i.createElement(te,null)),C&&i.createElement(r.Toast,{error:!0,label:b(C),onClose:L}),i.createElement("div",{className:"employee-login-home-footer",style:{backgroundColor:"unset"}},i.createElement("img",{alt:"Powered by DIGIT",src:null===(f=window)||void 0===f||null===(v=f.globalConfigs)||void 0===v||null===(y=v.getConfig)||void 0===y?void 0:y.call(v,"DIGIT_FOOTER_BW"),style:{cursor:"pointer"},onClick:function(){var e,t,n;window.open(null===(e=window)||void 0===e||null===(t=e.globalConfigs)||void 0===t||null===(n=t.getConfig)||void 0===n?void 0:n.call(t,"DIGIT_HOME_URL"),"_blank").focus()}})," "))};le.propTypes={loginParams:Z.any},le.defaultProps={loginParams:null};var ie=[u];("object"==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):s.compose)(s.applyMiddleware.apply(void 0,ie))}}]);